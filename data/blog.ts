import React from 'react';

export interface Article {
  slug?: string;
  title: string;
  excerpt: string;
  category: string;
  date: string;
  link: string;
  content?: string;
}

export const articles: Article[] = [
  {
    slug: 'agentic-workflows-for-tax-coding-and-compliance',
    title: 'Agentic Workflows for Tax Coding and Compliance: Implementation Challenges and Insights',
    excerpt: 'Automating tax coding and invoice compliance is complex, with intricate rules and nuanced scenarios. This post shares real-world insights and lessons learned from implementing LLM-driven agentic workflows for a client',
    category: 'AI & Automation',
    date: 'June 6, 2025',
    link: '/blog/agentic-workflows-for-tax-coding-and-compliance',
    content: `
      <p class="lead">Verifying invoice compliance and assigning correct tax codes are critical processes for enterprise companies, directly impacting tax reporting, cash flow, audit readiness, and overall financial integrity. Accurate classification of transactions and validation of compliance requirements demand a thorough understanding of both invoice details and the underlying transaction context, including country specific legal requirements and protocols. Traditionally, these processes have relied heavily on manual effort and expert judgment, making them time-consuming and prone to inconsistencies.</p>
      <p class="mt-6">Large Language Models (LLMs) excel not only at understanding natural language within invoices and accurately extracting relevant details, but also at interpreting transactions with nuance. The nature of tax coding and compliance validation—which fundamentally relies on language understanding, profound knowledge of often expansive tax law, and complex, multi-faceted classification decisions—makes the process an ideal candidate for automation through LLMs and agentic workflows. While AI solutions may not easily replace human expertise, they provide valuable support by automating routine classifications, streamlining workflows, and enabling experts to focus on complex edge cases and higher-value strategic work.</p>
      <p class="mt-6">Over the past two years, we have witnessed an explosion of AI applications and agent builders. While LLMs and agentic workflows have made solving business problems faster and more accessible, designing and implementing an effective and reliable agent for automating tax code assignment and compliance validation remains a complex and demanding task. In this post, I share some key challenges, along with lessons and insights from my experience.</p>
      <h2 class="mt-8 text-2xl font-bold">Challenges</h2>
      <h3 class="mt-6 text-xl font-bold">Domain Knowledge — The First Hurdle</h3>
      <p class="mt-6">The process of tax coding and compliance validation demands extensive domain knowledge and expertise— from tax code definitions and VAT regulations (and their recent changes) to the taxation of cross-border transactions and various legal requirements. Critical concepts such as the reverse charge mechanism, intra-community acquisitions, movement of goods, tax exemptions, self-billing, etc. must be understood upfront to design and implement an effective workflow. Without this foundational expertise, navigating these intricacies and ensuring the model accurately interprets all necessary factors becomes extremely difficult.</p>
      <h3 class="mt-6 text-xl font-bold">Nuances Are Immense</h3>
      <p class="mt-6">While domain expertise is critical, managing subtle nuances adds an additional layer of complexity. One primary challenge in automating tax code assignment and compliance validation is the significant impact that small details within invoices can have. For example, if an invoice is issued by a supplier based in Switzerland, the presence or absence of a European VAT ID may affect how the transaction is classified and, consequently, the final tax code assignment. Even minor differences in interpretation can lead to vastly different outcomes during the decision-making process. As a result, the model must be carefully instructed to recognise and appropriately weigh various decisive factors, requiring both precise task formulation and well-articulated definitions. For instance, defining an intra-community transaction merely as a transaction between two "EU countries" can lead to inconsistencies if the model confuses "EU" (the European Union) with "Europe" (the continent) and cascades to incorrect decisions. And such nuances often become apparent once deeply engaged in the project and testing.</p>
      <h3 class="mt-6 text-xl font-bold">The many Ifs and Buts</h3>
      <p class="mt-6">A key challenge in designing an agentic workflow for this process is navigating the countless scenarios and conditions that arise. Numerous "if," "or," and "but" conditions must be carefully considered. While some cases may closely align with certain tax code definitions, exceptions often complicate the decision-making process. For example, hotel invoices are usually handled one way, but if they fall under the Tour Operators Margin Scheme (TOMS), they must be treated differently. On the compliance side, “small-amount” transaction may not be subject to all compliance requirements; however, under certain conditions, the full set of validations must still be executed. This complexity underscores not only the critical need for extensive expertise in the subject area, as discussed earlier, but also highlights the difficulty of managing and integrating the multitude of conditional scenarios into the workflow. It demands carefully structured prompts and workflows to guide the model through these intricate scenarios while maintaining reliability and precision.</p>
      <h3 class="mt-6 text-xl font-bold">When Prompts Become Puzzles</h3>
      <p class="mt-6">Full traceability of each decision is essential for identifying and correcting errors — especially when the workflow is built through a chain of prompts or a team of agents. With multiple tasks, numerous decision points, and the previously mentioned exceptions involved, tracing how the model arrives at the final tax code can be quite a headache. This challenge is further amplified when too many tasks are packed into a single prompt, increasing the risk of the model confusing context and instructions or returning a vague and overly simplified explanation, making debugging a guessing game.</p>
      <h2 class="mt-8 text-2xl font-bold">Insights</h2>
      <h3 class="mt-6 text-xl font-bold">Behind Every Reliable Agent Is a Domain Expert</h3>
      <p class="mt-6">While one might assume that using ChatGPT could acquire all related knowledge for building a solution, the reality is that information from ChatGPT is often outdated, overly generalised and prone to confirmation bias — which can lead to inaccuracies if not validated by true subject matter experts. Collaborating with domain experts who possess deep knowledge of tax coding and VAT compliance is the cornerstone of success. Their expertise in real-world scenarios and edge cases streamline the design and implementation of automated solutions. By analysing examples and understanding how professionals navigate these tasks, workflows can be more effectively replicated and even enhanced through agentic systems. Studying human decision-making processes provides a crucial foundation for developing sophisticated, reliable agents.</p>
      <h3 class="mt-6 text-xl font-bold">Offloading Context for Effective Prompts</h3>
      <p class="mt-6">Incorporating the extensive context required for accurate prediction and validation—such as regulatory clarifications, country-specific VAT treatments, or lists of goods and services with special handling—can easily overwhelm the model and lead to inconsistencies in behaviour. Rather than embedding all this information directly into prompts, integrating external tools, leveraging MCP and retrieval-augmented generation (RAG) provides a more scalable and reliable approach. By dynamically retrieving relevant knowledge as needed, the workflow remains modular and context-aware without overloading the model or sacrificing maintainability.</p>
      <h3 class="mt-6 text-xl font-bold">Fail Fast for Sooner Success</h3>
      <p class="mt-6">Even invoices from the same vendor can vary significantly and may not always be handled in exactly the same way, making it impossible to anticipate every scenario upfront. Failing fast is a key principle in agile development and it's especially important when creating a tax coding and compliance agent. Rather than trying to define every possible rule in advance, it's far more effective to create an initial framework, test it quickly with real data, and iterate based on the results. Collaborating with tax experts to review actual cases helps refine the system effectively, and in some cases, may even require a revamp of the initial logic. By embracing early testing, critical issues can be uncovered sooner, enabling the development of a more resilient and reliable solution.</p>
      <h3 class="mt-6 text-xl font-bold">Divide and Conquer</h3>
      <p class="mt-6">Lengthy prompts often result in suboptimal outcomes, and they are difficult to debug and refine. Breaking complex tasks into smaller, manageable steps offers several advantages: it allows for more granular control, improves performance on distinct parts of the process, and makes it easier to identify and fix issues. This approach is especially valuable when different steps require different inputs or contexts. Overloading the model with excessive (sometimes irrelevant) input can easily lead to confusion during invoice compliance validation, where precision is critical. Moreover, in many cases, earlier classifications or decisions create dependencies that require a more coordinated and targeted execution logic. For example, which compliance checks should run before tax code assignment? Are there validations that depend on the outcome of tax coding? A modular approach with clear responsibilities and boundaries provides the flexibility to adjust and refine the workflow as needed.</p>
      <h3 class="mt-6 text-xl font-bold">Making Logic Visible for Trusted Decisions</h3>
      <p class="mt-6">When implementing an agentic workflow, it’s vital to make the LLM’s decision-making process transparent and interpretable. By carefully crafting prompts to not only generate results but also provide reasoning or justification, one can gain visibility into its logic and insights into why the model made certain decisions. This transparency helps build trust in the system, facilitate improvement and refinement of the system, and enables collaboration among tax experts, financial departments, and prompt engineers. Furthermore, it enables efficient and transparent audit processes at the transaction level.</p>
      <h3 class="mt-6 text-xl font-bold">Descope to achieve more</h3>
      <p class="mt-6">Be mindful of the scope of the project and implementation, as tax coding and compliance validation can quickly become overwhelming and unmanageable, particularly as more countries’ regulations and systems are involved. Trying to cover every possible case is unrealistic. Instead, focus on evaluating and prioritizing the most relevant transaction types and their treatments. For instance, while one might consider including Germany’s temporary reduced tax rates introduced during the COVID-19 pandemic for the sake of completeness, it’s worth asking: are these rates still crucial and frequently used? Collaborating with tax experts and Accounts Payable (AP) teams to make thoughtful descoping decisions can simplify workflows, strike the right balance, and ensure a practical, maintainable implementation.</p>
      <h3 class="mt-6 text-xl font-bold">Give Your Agent a Probation Period</h3>
      <p class="mt-6">Implementing an agent to assist with tax code assignment should be approached much like hiring a new team member. Even the most talented new hires need time to learn and adapt— so does your agent. Don’t expect perfection from the beginning; plan for a structured testing and optimization phase. During this “probation period,” monitor and fine-tune the agent’s decisions to handle inevitable edge cases. By adopting this mindset, finance and accounts payable leaders can set realistic expectations, build confidence in the agent’s capabilities, avoid unexpected issues that could disrupt operations in the production environment, and ensure a smoother path toward sustainable automation.</p>
      <p class="mt-8">While automating tax coding and compliance validation through agentic workflows and LLMs offers tremendous potential and a transformative advantage, it is not a straightforward prompting task. The challenges discussed above highlight that deep domain knowledge, thoughtful workflow design, strong traceability, and careful scope management are all crucial to success. By embracing modular design, prioritising transparency, collaborating closely with tax specialists, starting with a focused scope, and planning for a structured testing and refinement phase, organisations can leverage LLMs and agentic workflows to significantly reduce manual workload and strengthen the reliability, accuracy, and consistency of their tax compliance and tax coding operations.</p>
      <p class="mt-4">While this article focuses on tax coding and compliance, I believe many of these challenges apply to other different use cases as well. Have you faced similar challenges? I’d love to hear how you overcame them! Feel free to share your stories with me!</p>
      <blockquote class="mt-8">This post was originally published on <a href="https://www.linkedin.com/pulse/agentic-workflows-tax-coding-compliance-challenges-insights-cheung-yy5hf/?trackingId=LoDc7qKwHbuKJdNW1syoMA%3D%3D" target="_blank" rel="noopener noreferrer">LinkedIn</a>.</blockquote>
    `
  },
  {
    title: 'Meet Wai Cheung our Product Manager',
    excerpt: 'In this interview, I share my journey at Hypatos over the past six years, from my early days as a Team Assistant to becoming a Product Manager. We talk about the skills that make a strong product manager, how startup life shaped my growth, and what I’ve learned along the way. I also reflect on our company culture, advice for newcomers, and my aspirations for the future.',
    category: 'Employee Journey @ Hypatos',
    date: 'November 28, 2024',
    link: 'https://www.hypatos.ai/blog/meet-wai-cheung-our-product-manager'
  }
];